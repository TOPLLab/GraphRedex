async function prepare() {
    await Promise.all([
        languagesCollection,
        usersLanguagesCollection,
        usersCollection,
        examplesCollection,
        usersExamplesCollection,
    ].map(async c => {
        if (!(await c.exists())) {
            await c.create();
            console.log(`${c.name} collection created`);
        }
    }));

    if (!await usersCollection.documentExists("1")) {
        await usersCollection.save({
            _key: "1",
            name: "demo",
            password: {
                salt: "B0+PC18=",
                hash:
                    // tslint:disable-next-line:max-line-length
                    "F9LRnLwgcaqW1IBDEhtNgSX6gLbX6Ye1AtTAnMmal0CPERVs1odDLxX85F02dpg05/CyS6RiPsirMF8FnH+PX3uU7NIznx7eAzNoWFV57zuEgqbEevnJbp5eDzbji5TceCMesZ/Mz0AeGc9LV/jz4OiEhEKLRGEpmKCi0J1YJSJTSLBMd62P1UsCV1Mv5UOZYrwNAqnzvpfqN17Qz4x8ZWQsaJdrEpMiG/Bav4z7LL+xtmbPeEEOh2W0Gk01cuSc+U2la0rwV81uh16lKXp1nUyOo9qY3G+IbR1CnFFrcnud3kSipqjtzrH/UiDBFzyTV61MbZvx8c/BubrIL7LaafLA0VUsNo0JNDpmnu6EQtO4+0mqBPUG5njLo+hsaMPSKfIvXTQZq5nAsC1QmXH69UB+tW82JPxyEa4U5fKADJKl5QhnjoBzgXzvhhVSGIsu3hRIi0a4ZG7GxGUUKEqU6TcONFda1+W+tRpnFqylD3ogT7ikvjWDJeG8AaDeRmx+dCn3Fmp49yqDAAp25D+DuVClcCL4Uns69ge4tKDaQ9W8yhtHjjaPXFc45KU+sYcp7DkdLvKTUcIoF/aClELYOp2anOhMtDbONUS/xuSZCqRYcIRDSSUFobes2cm0ggXtTlpmc2yjO6/RjqaiebkAA+YloabmSr//nGaIuDmXd5U=",
                iterations: 10000,
            },
        });
        console.log("Demo user added (_key = 1, demo:demo)");
    }

    if (!await examplesGraph.exists()) {
        await examplesGraph.create({
            edgeDefinitions: [{
                collection: usersExamplesCollection.name,
                from: [usersCollection.name],
                to: [examplesCollection.name],
            },
            {
                collection: usersLanguagesCollection.name,
                from: [usersCollection.name],
                to: [languagesCollection.name],
            }],
        });

        console.log("Examples per user graph created");
    }


    return;
}